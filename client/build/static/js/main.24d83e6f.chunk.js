(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(23)},18:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(9),o=a.n(r),l=a(25);a(18);var s=function(){const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(null),[o,s]=Object(n.useState)([]),[i,m]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{(async()=>{try{const t=localStorage.getItem("chatHistory");t&&s(JSON.parse(t))}catch(e){console.error("Error loading chat history:",e)}})()},[]),c.a.createElement("div",{className:"app-container"},c.a.createElement("img",{src:"/aki-maid.webp",alt:"Aki",className:"aki-image"}),c.a.createElement("h1",{className:"app-title"},"Aki-Maid"),c.a.createElement("p",{className:"app-description"},"Ch\xe0o m\u1eebng b\u1ea1n \u0111\u1ebfn v\u1edbi chatbot Aki! B\u1ea1n c\xf3 th\u1ec3 nh\u1eadp c\xe2u h\u1ecfi v\xe0/ho\u1eb7c t\u1ea3i l\xean h\xecnh \u1ea3nh \u0111\u1ec3 nh\u1eadn c\xe2u tr\u1ea3 l\u1eddi t\u1eeb Aki."),c.a.createElement("div",{className:"input-container"},c.a.createElement("input",{type:"text",value:e,onChange:e=>{t(e.target.value)},placeholder:"Nh\u1eadp c\xe2u h\u1ecfi c\u1ee7a b\u1ea1n:",className:"user-input"}),c.a.createElement("input",{type:"file",onChange:e=>{r(e.target.files[0])},className:"image-upload"}),c.a.createElement("button",{onClick:async()=>{m(!0);const n=new FormData;n.append("userInput",e),a&&n.append("image",a);try{const a=await l.a.post("http://localhost:5000/api/chat",n,{headers:{"Content-Type":"multipart/form-data"}}),i=[{role:"user",content:e},{role:"aki",content:a.data.text}];s(e=>[...i,...e]),localStorage.setItem("chatHistory",JSON.stringify([...i,...o]))}catch(c){console.error("Error:",c)}finally{m(!1),t(""),r(null)}},disabled:i,className:"submit-button"},"G\u1eedi")),i&&c.a.createElement("div",{className:"loading"},"\u0110ang nh\u1eadn ph\u1ea3n h\u1ed3i t\u1eeb Aki..."),c.a.createElement("div",{className:"chat-history"},o.map((e,t)=>c.a.createElement("div",{key:t,className:"message ".concat(e.role,"-message")},e.content))),c.a.createElement("button",{onClick:async()=>{try{await l.a.post("http://localhost:5000/api/clear-history"),s([]),localStorage.removeItem("chatHistory")}catch(e){console.error("Error clearing chat history:",e)}},className:"clear-button"},"X\xf3a l\u1ecbch s\u1eed"))};o.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s,null)))}},[[10,1,2]]]);
//# sourceMappingURL=main.24d83e6f.chunk.js.map